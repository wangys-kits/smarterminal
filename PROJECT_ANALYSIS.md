# Smarterminal é¡¹ç›®ä»£ç åˆ†ææŠ¥å‘Š

## ğŸ“‹ é¡¹ç›®æ¦‚è§ˆ

**é¡¹ç›®åç§°ï¼š** Smarterminal  
**ç‰ˆæœ¬ï¼š** 0.1.0  
**è®¸å¯è¯ï¼š** MIT  
**å®šä½ï¼š** ç°ä»£åŒ–è·¨å¹³å°æ™ºèƒ½ç»ˆç«¯å·¥ä½œå°ï¼ˆåŸºäº Electronï¼‰

Smarterminal æ˜¯ä¸€ä¸ªåˆ›æ–°çš„ç»ˆç«¯åº”ç”¨ï¼Œæä¾›ç±»ä¼¼ Notebook çš„èŠå¤©å¼äº¤äº’ç•Œé¢ï¼Œæ”¯æŒå‘½ä»¤æ‰§è¡Œã€Markdown ç¬”è®°ã€å¤šæ ‡ç­¾ä¼šè¯ç®¡ç†ã€è¿›ç¨‹ç›‘æ§å’Œæ–‡ä»¶é¢„è§ˆç­‰åŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨ Electron æ¶æ„ï¼Œç»“åˆ xterm.js å’Œ node-ptyï¼Œä¸ºå¼€å‘è€…æä¾›å¼ºå¤§ä¸”ä¼˜é›…çš„ç»ˆç«¯ä½“éªŒã€‚

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### 1. æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Electron | ^29.4.6 | åº”ç”¨æ¡†æ¶ |
| xterm.js | ^5.3.0 | ç»ˆç«¯UIæ¸²æŸ“ |
| node-pty | ^1.0.0 | PTYï¼ˆä¼ªç»ˆç«¯ï¼‰æ”¯æŒ |
| electron-store | ^8.2.0 | é…ç½®æŒä¹…åŒ– |
| ssh2 | ^1.15.0 | SSHè¿æ¥ï¼ˆå¯é€‰ï¼‰ |
| tree-kill | ^1.2.2 | è¿›ç¨‹æ ‘ç®¡ç† |

**è¯­è¨€é€‰æ‹©ï¼š** çº¯ JavaScriptï¼ˆES6+ æ¨¡å—ï¼‰ï¼Œæ—  TypeScript æˆ–æ¡†æ¶ä¾èµ–

### 2. è¿›ç¨‹æ¶æ„

é‡‡ç”¨ Electron ç»å…¸çš„ä¸‰è¿›ç¨‹æ¶æ„ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Main Process (Node.js)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ - Window Management                      â”‚   â”‚
â”‚  â”‚ - PTY/Stdio Terminal Lifecycle          â”‚   â”‚
â”‚  â”‚ - Tmux Session Manager                  â”‚   â”‚
â”‚  â”‚ - Process Monitor                       â”‚   â”‚
â”‚  â”‚ - Output Streamer                       â”‚   â”‚
â”‚  â”‚ - File Operations                       â”‚   â”‚
â”‚  â”‚ - Transfer Manager (SFTP)               â”‚   â”‚
â”‚  â”‚ - Tab Persistence (*.smt)               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ IPC Bridge
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Preload.js   â”‚  â”‚  Renderer (Web)  â”‚
â”‚  (IPC Bridge)  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  - Whitelist   â”‚â—„â”€â”¤  â”‚ Vanilla JS  â”‚ â”‚
â”‚  - Security    â”‚  â”‚  â”‚ ES Modules  â”‚ â”‚
â”‚  - Context     â”‚  â”‚  â”‚ xterm.js    â”‚ â”‚
â”‚    Bridge      â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®‰å…¨ç‰¹æ€§ï¼š**
- `contextIsolation: true` - ä¸Šä¸‹æ–‡éš”ç¦»
- `sandbox: true` - æ²™ç®±ç¯å¢ƒ
- `nodeIntegration: false` - ç¦ç”¨Nodeé›†æˆ
- ä¸¥æ ¼çš„ CSP (Content Security Policy)
- IPC é€šé“ç™½åå•æœºåˆ¶

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
smarterminal/
â”œâ”€â”€ app/                          # åº”ç”¨æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ main.js                   # ä¸»è¿›ç¨‹ (1845è¡Œ)
â”‚   â”œâ”€â”€ preload.js                # é¢„åŠ è½½è„šæœ¬ (97è¡Œ)
â”‚   â”œâ”€â”€ command-executor.js       # å‘½ä»¤æ‰§è¡Œå™¨ (258è¡Œ)
â”‚   â”œâ”€â”€ tmux-manager.js           # Tmuxä¼šè¯ç®¡ç† (560è¡Œ)
â”‚   â”œâ”€â”€ process-monitor.js        # è¿›ç¨‹ç›‘æ§ (205è¡Œ)
â”‚   â”œâ”€â”€ output-streamer.js        # è¾“å‡ºæµç®¡ç† (151è¡Œ)
â”‚   â”œâ”€â”€ logger.js                 # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ renderer/                 # æ¸²æŸ“è¿›ç¨‹
â”‚   â”‚   â”œâ”€â”€ index.html            # å…¥å£HTML
â”‚   â”‚   â”œâ”€â”€ renderer.mjs          # ä¸»æ¸²æŸ“é€»è¾‘ (4700è¡Œ)
â”‚   â”‚   â”œâ”€â”€ chat-terminal.mjs     # èŠå¤©å¼ç»ˆç«¯ (5526è¡Œ)
â”‚   â”‚   â”œâ”€â”€ chat-terminal-cells.mjs        # å•å…ƒæ ¼ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ chat-terminal-markdown.mjs     # Markdownæ¸²æŸ“
â”‚   â”‚   â”œâ”€â”€ chat-terminal-suggestions.mjs  # å‘½ä»¤å»ºè®®
â”‚   â”‚   â”œâ”€â”€ chat-terminal-path-completer.mjs # è·¯å¾„è¡¥å…¨
â”‚   â”‚   â”œâ”€â”€ i18n.mjs              # å›½é™…åŒ–
â”‚   â”‚   â”œâ”€â”€ settings.mjs          # è®¾ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ command-palette.mjs   # å‘½ä»¤é¢æ¿
â”‚   â”‚   â””â”€â”€ styles.css            # æ ·å¼è¡¨
â”‚   â”œâ”€â”€ assets/                   # èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ resources/                # èµ„æºï¼ˆå¦‚tmuxäºŒè¿›åˆ¶ï¼‰
â”‚       â””â”€â”€ tmux/                 # æ‰“åŒ…çš„tmuxäºŒè¿›åˆ¶
â”œâ”€â”€ design-system/                # è®¾è®¡ç³»ç»Ÿ
â”‚   â””â”€â”€ modern/                   # ç°ä»£åŒ–ä¸»é¢˜
â”œâ”€â”€ docs/                         # æ–‡æ¡£
â”‚   â”œâ”€â”€ product-requirements.md   # äº§å“éœ€æ±‚æ–‡æ¡£
â”‚   â”œâ”€â”€ technical-design.md       # æŠ€æœ¯è®¾è®¡æ–‡æ¡£
â”‚   â””â”€â”€ ui-*/                     # UIè®¾è®¡å‚è€ƒ
â”œâ”€â”€ build/                        # æ„å»ºèµ„æºï¼ˆå›¾æ ‡ç­‰ï¼‰
â”œâ”€â”€ node-cache/                   # æœ¬åœ°npmç¼“å­˜
â”œâ”€â”€ tmux/                         # Tmuxç›¸å…³
â”œâ”€â”€ package.json                  # é¡¹ç›®é…ç½®
â””â”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
```

---

## ğŸ”‘ æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. ä¸»è¿›ç¨‹ (app/main.js)

**èŒè´£ï¼š** åº”ç”¨ç”Ÿå‘½å‘¨æœŸã€çª—å£ç®¡ç†ã€IPCå¤„ç†ã€ç»ˆç«¯ä¼šè¯ã€æ–‡ä»¶æ“ä½œ

**å…³é”®åŠŸèƒ½ï¼š**

#### 1.1 ç»ˆç«¯ä¼šè¯ç®¡ç†
```javascript
// PTYä¼˜å…ˆï¼Œstdioå›é€€ç­–ç•¥
- node-pty: å®Œæ•´PTYæ”¯æŒï¼ŒçœŸå®ç»ˆç«¯ç¯å¢ƒ
- stdio spawn: PTYä¸å¯ç”¨æ—¶çš„é™çº§æ–¹æ¡ˆ
- tmuxé›†æˆ: æœ¬åœ°å’ŒSSHè¿œç¨‹tmuxä¼šè¯
```

**ä¼šè¯ç±»å‹ï¼š**
- `pty`: æ ‡å‡†PTYç»ˆç«¯
- `stdio`: æ ‡å‡†è¾“å…¥è¾“å‡ºæ¨¡å¼
- `tmux-local`: æœ¬åœ°tmuxä¼šè¯
- `tmux-ssh`: SSHè¿œç¨‹tmuxä¼šè¯

#### 1.2 IPCé€šé“ç™½åå•

```javascript
// ç»ˆç«¯æ“ä½œ
term.spawn       // åˆ›å»ºç»ˆç«¯ä¼šè¯
term.write       // å†™å…¥æ•°æ®
term.resize      // è°ƒæ•´å¤§å°
term.kill        // æ­£å¸¸ç»ˆæ­¢
term.forceKill   // å¼ºåˆ¶ç»ˆæ­¢

// å‘½ä»¤æ‰§è¡Œ
cmd.execute      // æ‰§è¡Œå‘½ä»¤
cmd.write        // å†™å…¥è¾“å…¥
cmd.kill         // ç»ˆæ­¢å‘½ä»¤

// æ–‡ä»¶ç³»ç»Ÿ
fs.list          // åˆ—å‡ºæ–‡ä»¶
fs.rename        // é‡å‘½å
fs.delete        // åˆ é™¤
fs.mkdir         // åˆ›å»ºç›®å½•
fs.createFile    // åˆ›å»ºæ–‡ä»¶
fs.copy          // å¤åˆ¶æ–‡ä»¶
fs.readFile      // è¯»å–æ–‡ä»¶ï¼ˆç”¨äº/viewï¼‰

// æ ‡ç­¾é¡µç®¡ç†
tabs.list        // åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾é¡µ
tabs.create      // åˆ›å»ºæ–°æ ‡ç­¾é¡µ
tabs.save        // ä¿å­˜æ ‡ç­¾é¡µçŠ¶æ€
tabs.rename      // é‡å‘½åæ ‡ç­¾é¡µ
tabs.delete      // åˆ é™¤æ ‡ç­¾é¡µ

// ä¼ è¾“ç®¡ç†
tx.enqueue       // æ·»åŠ åˆ°ä¼ è¾“é˜Ÿåˆ—
tx.list          // åˆ—å‡ºä¼ è¾“ä»»åŠ¡
tx.control       // æ§åˆ¶ä¼ è¾“ï¼ˆæš‚åœ/ç»§ç»­/å–æ¶ˆï¼‰

// è®¾ç½®å’Œä¼šè¯
settings.get/set // è·å–/è®¾ç½®é…ç½®
session.load/save // åŠ è½½/ä¿å­˜ä¼šè¯

// åº”ç”¨æ“ä½œ
app.getHomeDir   // è·å–ç”¨æˆ·ç›®å½•
app.openExternal // æ‰“å¼€å¤–éƒ¨é“¾æ¥
app.openDialog   // æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†
```

#### 1.3 Shellè‡ªåŠ¨æ¢æµ‹

```javascript
Windowsä¼˜å…ˆçº§:
1. ç”¨æˆ·æŒ‡å®šshell
2. COMSPECç¯å¢ƒå˜é‡
3. PowerShell (pwsh.exe / powershell.exe)
4. cmd.exe

Unixä¼˜å…ˆçº§:
1. ç”¨æˆ·æŒ‡å®šshell
2. SHELLç¯å¢ƒå˜é‡
3. /bin/zsh
4. /bin/bash
5. /bin/sh
```

### 2. Tmuxç®¡ç†å™¨ (app/tmux-manager.js)

**æ ¸å¿ƒä»·å€¼ï¼š** æä¾›æŒä¹…åŒ–çš„ç»ˆç«¯ä¼šè¯ï¼Œæ”¯æŒæ–­çº¿é‡è¿

**åŠŸèƒ½ç‰¹æ€§ï¼š**

#### 2.1 æœ¬åœ°Tmuxä¼šè¯
```javascript
- è‡ªåŠ¨æ¢æµ‹ç³»ç»Ÿtmux
- æ‰“åŒ…çš„tmuxäºŒè¿›åˆ¶å¤‡ç”¨ï¼ˆlinux-x86_64, linux-arm64ï¼‰
- ä¼šè¯åˆ›å»ºã€é™„åŠ ã€é”€æ¯
- SHA256æ ¡éªŒï¼Œé¿å…é‡å¤å¤åˆ¶
```

#### 2.2 SSH Tmuxä¼šè¯
```javascript
- SSHè¿æ¥ç®¡ç†ï¼ˆåŸºäºssh2ï¼‰
- è¿œç¨‹tmuxè‡ªåŠ¨ä¸Šä¼ å’Œéƒ¨ç½²
- é€šè¿‡SSHç®¡é“è¿è¡Œtmuxå‘½ä»¤
- æ”¯æŒå¯†ç ã€å¯†é’¥è®¤è¯
```

**æ¶æ„å¹³å°æ”¯æŒï¼š**
```javascript
function normalizeArch(input) {
  if (arch === 'x64' || arch === 'amd64') return 'x86_64';
  if (arch === 'arm64' || arch === 'aarch64') return 'arm64';
  return arch;
}
```

### 3. è¿›ç¨‹ç›‘æ§å™¨ (app/process-monitor.js)

**ç›‘æ§æŒ‡æ ‡ï¼š**
- **CPUä½¿ç”¨ç‡**: é€šè¿‡`ps`/`wmic`é‡‡æ ·
- **å†…å­˜ä½¿ç”¨**: RSSï¼ˆé©»ç•™é›†å¤§å°ï¼‰
- **è¾“å‡ºé€Ÿç‡**: 5ç§’æ»‘åŠ¨çª—å£å¹³å‡
- **è¿è¡Œæ—¶é•¿**: æ¯«ç§’çº§è®¡æ—¶

**å‘Šè­¦é˜ˆå€¼ï¼š**
```javascript
é«˜CPU: > 90% ä¸”è¿è¡Œè¶…è¿‡60ç§’
é«˜å†…å­˜: > 500MB
é«˜è¾“å‡ºé€Ÿç‡: > 1MB/s
é•¿æ—¶é—´è¿è¡Œ: æ¯åˆ†é’Ÿæé†’ï¼ˆè¶…è¿‡5åˆ†é’Ÿï¼‰
```

**äº‹ä»¶ç±»å‹ï¼š**
- `update`: æŒ‡æ ‡æ›´æ–°
- `high-cpu`: CPUè¿‡é«˜
- `high-memory`: å†…å­˜è¿‡é«˜
- `high-output-rate`: è¾“å‡ºé€Ÿç‡è¿‡é«˜
- `long-running`: é•¿æ—¶é—´è¿è¡Œ

### 4. è¾“å‡ºæµç®¡ç†å™¨ (app/output-streamer.js)

**åŠŸèƒ½ï¼š** å°†æ‰€æœ‰ç»ˆç«¯è¾“å‡ºè®°å½•åˆ°æ—¥å¿—æ–‡ä»¶

```javascript
ä½ç½®: ${userData}/command-outputs/
æ ¼å¼: <ptyId>_<timestamp>.log
è‡ªåŠ¨æ¸…ç†: ä¿ç•™æœ€è¿‘50ä¸ªæ–‡ä»¶
```

**æ—¥å¿—ç»“æ„ï¼š**
```
# Command Output Log
# PTY ID: <uuid>
# Started: <ISO timestamp>
# ========================================

<actual output>

# ========================================
# Ended: <ISO timestamp>
# Total Size: <formatted size>
```

### 5. èŠå¤©å¼ç»ˆç«¯ (app/renderer/chat-terminal.mjs)

**æ ¸å¿ƒæ¦‚å¿µï¼š** ç±»ä¼¼Jupyter Notebookçš„å•å…ƒæ ¼æ¨¡å¼

#### 5.1 å•å…ƒæ ¼ç±»å‹

**ä»£ç å•å…ƒæ ¼ï¼š**
```javascript
- å‘½ä»¤è¾“å…¥å’Œæ‰§è¡Œ
- è¾“å‡ºåŒºåŸŸï¼ˆå¯æŠ˜å ã€å¤åˆ¶ã€è™šæ‹ŸåŒ–ï¼‰
- æ‰§è¡Œæ—¶é—´å’ŒçŠ¶æ€æŒ‡ç¤º
- é‡æ–°è¿è¡ŒåŠŸèƒ½
```

**Markdownå•å…ƒæ ¼ï¼š**
```javascript
- å¯Œæ–‡æœ¬ç¬”è®°ç¼–è¾‘
- å®æ—¶Markdownæ¸²æŸ“
- åŒå‡»ç¼–è¾‘æ¨¡å¼
- Shift+Enterä¿å­˜æ¸²æŸ“
```

#### 5.2 å‘½ä»¤å®Œæˆæ£€æµ‹

**æ™ºèƒ½å“¨å…µç³»ç»Ÿï¼š**
```javascript
éäº¤äº’å¼å‘½ä»¤:
  - OSC 133 è¯Šæ–­åºåˆ—: ESC ]133;D;smrt:<id>;exit:%d BEL
  - æ–‡æœ¬å›é€€å“¨å…µ: __SMRT_DONE__<id>__%d__

äº¤äº’å¼å‘½ä»¤ (ssh, mysql, pythonç­‰):
  - æç¤ºç¬¦æ¨¡å¼è¯†åˆ«
  - è¾“å‡ºé‡é˜ˆå€¼æ£€æµ‹
  - å»¶è¿Ÿå®Œæˆï¼ˆé˜²æ­¢è¿‡æ—©æˆªæ–­ï¼‰
```

**æç¤ºç¬¦æ£€æµ‹æ¨¡å¼ï¼š**
```javascript
- bash/zsh: [user@host dir]$ / %
- Python: >>> / ...
- MySQL: mysql> / ->
- PostgreSQL: database=#
- SSH: [user@host]
- é€šç”¨: è¡Œå°¾ $ # > :
```

#### 5.3 è¾“å‡ºè™šæ‹ŸåŒ–

**æ€§èƒ½ä¼˜åŒ–ï¼š** å½“è¾“å‡ºè¶…è¿‡é˜ˆå€¼æ—¶å¯ç”¨è™šæ‹ŸåŒ–

```javascript
åŸç†:
- è®¡ç®—æ€»é«˜åº¦ = lineCount Ã— lineHeight
- åªæ¸²æŸ“å¯è§è¡Œ + overscanï¼ˆä¸Šä¸‹å„50è¡Œï¼‰
- transform: translateY å®šä½è§†å£
- æ»šåŠ¨æ—¶åŠ¨æ€æ›´æ–°æ¸²æŸ“çª—å£

ä¼˜åŠ¿:
- å¤„ç†ç™¾ä¸‡è¡Œè¾“å‡ºä¸å¡é¡¿
- å†…å­˜å ç”¨æœ€å°åŒ–
- å¹³æ»‘æ»šåŠ¨ä½“éªŒ
```

**å¤åˆ¶ä¼˜åŒ–ï¼š**
```javascript
- è‡ªåŠ¨ç§»é™¤è¡Œå·
- ä¿ç•™ç¼©è¿›å’Œæ ¼å¼
- å¤šè¡Œé€‰æ‹©æ”¯æŒ
```

#### 5.4 è¯­æ³•é«˜äº®

**æ”¯æŒè¯­è¨€ï¼š**
- JavaScript/TypeScript
- Python
- C/C++/Java/Go/Rust/Swift
- Shell (Bash/Zsh)
- JSON/YAML/TOML
- HTML/CSS
- SQL
- Markdown

**é«˜äº®ç­–ç•¥ï¼š**
```javascript
- æ­£åˆ™è¡¨è¾¾å¼TokenåŒ¹é…
- CSSç±»åè¯­ä¹‰åŒ–ï¼ˆ.token-keyword, .token-stringç­‰ï¼‰
- æ–‡ä»¶æ‰©å±•åè‡ªåŠ¨æ£€æµ‹
- é™çº§ï¼šçº¯æ–‡æœ¬å±•ç¤º
```

### 6. å‘½ä»¤å»ºè®®ç³»ç»Ÿ (chat-terminal-suggestions.mjs)

**æ•°æ®æ¥æºï¼š**
1. **æœ¬åœ°å†å²**: localStorageæŒä¹…åŒ–
2. **é¢‘ç‡æ’åº**: ä½¿ç”¨æ¬¡æ•°åŠ æƒ
3. **æ¨¡ç³ŠåŒ¹é…**: å‰ç¼€å’Œå­ä¸²åŒ¹é…

**è§¦å‘æ–¹å¼ï¼š**
- `Tab`é”®æ‰“å¼€å»ºè®®
- è‡ªåŠ¨è¿‡æ»¤è¾“å…¥å†…å®¹
- `â†‘/â†“`å¯¼èˆªï¼Œ`Enter`æ¥å—

**ç¤ºä¾‹å‘½ä»¤åº“ï¼š**
```javascript
- git (commit, push, pull, status, log...)
- npm (install, start, build, test...)
- docker (ps, run, stop, logs...)
- ç³»ç»Ÿå‘½ä»¤ (ls, cd, mkdir, cat...)
```

### 7. è·¯å¾„è¡¥å…¨ (chat-terminal-path-completer.mjs)

**æ™ºèƒ½è·¯å¾„è§£æï¼š**
```javascript
- ç›¸å¯¹è·¯å¾„: ./file, ../dir
- ç»å¯¹è·¯å¾„: /usr/local/bin
- ç”¨æˆ·ç›®å½•: ~/Documents
- å½“å‰ç›®å½•: è‡ªåŠ¨åˆ—å‡ºæ–‡ä»¶
```

**è¡¥å…¨ç­–ç•¥ï¼š**
```javascript
1. è§£æè¾“å…¥ä¸­çš„è·¯å¾„ç‰‡æ®µ
2. è°ƒç”¨ fs.list è·å–ç›®å½•å†…å®¹
3. è¿‡æ»¤åŒ¹é…é¡¹
4. æ˜¾ç¤ºæ–‡ä»¶/ç›®å½•å›¾æ ‡
5. Tabå¾ªç¯é€‰æ‹©
```

### 8. å›½é™…åŒ–ç³»ç»Ÿ (app/renderer/i18n.mjs)

**æ”¯æŒè¯­è¨€ï¼š**
- `zh-CN`: ç®€ä½“ä¸­æ–‡ï¼ˆé»˜è®¤ï¼‰
- `en`: English

**ç‰¹æ€§ï¼š**
```javascript
- è¿è¡Œæ—¶åˆ‡æ¢ï¼Œæ— éœ€é‡å¯
- localStorageæŒä¹…åŒ–
- å›é€€æœºåˆ¶ï¼ˆç¼ºå¤±ç¿»è¯‘ä½¿ç”¨é»˜è®¤æ–‡æœ¬ï¼‰
- å…¨å±€äº‹ä»¶é€šçŸ¥ï¼ˆi18n:changeï¼‰
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```javascript
i18n.t('tab.untitled', 'æœªå‘½å')
// è¿”å›å½“å‰è¯­è¨€çš„ç¿»è¯‘ï¼Œæˆ–é»˜è®¤å€¼"æœªå‘½å"
```

### 9. è®¾ç½®ç®¡ç† (app/renderer/settings.mjs)

**é…ç½®é¡¹ï¼š**

#### ä¸»é¢˜è®¾ç½®
```javascript
- light: æµ…è‰²ä¸»é¢˜
- dark: æ·±è‰²ä¸»é¢˜
- system: è·Ÿéšç³»ç»Ÿ
```

#### å­—ä½“è®¾ç½®
```javascript
å‘½ä»¤åŒºåŸŸ:
  - å­—ä½“å¤§å°: 14-24px
  - å­—ä½“é¢œè‰²: è‡ªå®šä¹‰

è¾“å‡ºåŒºåŸŸ:
  - å­—ä½“å¤§å°: 12-20px
  - å­—ä½“é¢œè‰²: è‡ªå®šä¹‰
```

**æŒä¹…åŒ–ï¼š** localStorage + electron-storeåŒå±‚å­˜å‚¨

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. /view å‘½ä»¤é¢„è§ˆ

**æ”¯æŒæ ¼å¼ï¼š**

#### Markdownæ–‡ä»¶
```javascript
ç‰¹æ€§:
- å®Œæ•´Markdownæ¸²æŸ“
- ä»£ç å—è¯­æ³•é«˜äº®
- è¡¨æ ¼ã€åˆ—è¡¨æ”¯æŒ
- å¤§å°é™åˆ¶: 2MB
```

#### å›¾ç‰‡æ–‡ä»¶
```javascript
æ”¯æŒæ ¼å¼:
- PNG (.png)
- JPEG (.jpg, .jpeg)
- GIF (.gif)
- WebP (.webp)
- BMP (.bmp)
- SVG (.svg)

å¤§å°é™åˆ¶: 6MB
æ¸²æŸ“æ–¹å¼: Base64 Data URI
```

**æ‰§è¡Œæµç¨‹ï¼š**
```
1. ç”¨æˆ·è¾“å…¥: /view README.md
2. æ¸²æŸ“å™¨è§£æå‘½ä»¤ï¼Œæå–è·¯å¾„
3. æ¨æ–­æ–‡ä»¶ç±»å‹ï¼ˆæ‰©å±•åï¼‰
4. IPCè°ƒç”¨: fs.readFile({path, cwd, maxBytes})
5. ä¸»è¿›ç¨‹è¯»å–å¹¶é™åˆ¶å¤§å°
6. è¿”å›å†…å®¹ï¼ˆæ–‡æœ¬/base64ï¼‰
7. æ¸²æŸ“å™¨å±•ç¤ºï¼ˆMarkdownæ¸²æŸ“/å›¾ç‰‡<img>ï¼‰
```

**é™åˆ¶ï¼š**
- ä»…æ”¯æŒæœ¬åœ°ä¼šè¯
- SSH/è¿œç¨‹ä¼šè¯è¿”å›"ä¸æ”¯æŒ"æç¤º

### 2. æ ‡ç­¾é¡µæŒä¹…åŒ–

**å­˜å‚¨æ ¼å¼ï¼š** `.smt` (SmartTerminal) JSONæ–‡ä»¶

```json
{
  "title": "é¡¹ç›®å¼€å‘",
  "favorite": true,
  "description": "Node.jsé¡¹ç›®å¼€å‘ç¯å¢ƒ",
  "customTitle": true,
  "deleted": false,
  "deletedAt": null,
  "state": {
    "messages": [
      "<div class='cell code'>...</div>",
      "<div class='cell markdown'>...</div>"
    ]
  },
  "createdAt": 1710000000000,
  "updatedAt": 1710123456789
}
```

**CRUDæ“ä½œï¼š**
```javascript
tabs.list()           // åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾é¡µ
tabs.create(data)     // åˆ›å»ºæ–°æ ‡ç­¾é¡µ
tabs.save(data)       // ä¿å­˜çŠ¶æ€
tabs.rename(data)     // é‡å‘½å
tabs.delete({id})     // è½¯åˆ é™¤åˆ°å›æ”¶ç«™
```

**ä¸»é¡µè§†å›¾ï¼š**
- **æ”¶è—å¤¹**: `favorite: true` çš„æ ‡ç­¾é¡µ
- **å…¨éƒ¨å¯¹è¯**: æ‰€æœ‰æœªåˆ é™¤çš„æ ‡ç­¾é¡µ
- **å›æ”¶ç«™**: `deleted: true` çš„æ ‡ç­¾é¡µ

### 3. å‘½ä»¤æ‰§è¡Œæ¨¡å¼

#### PTYæ¨¡å¼ï¼ˆé¦–é€‰ï¼‰
```javascript
ä¼˜åŠ¿:
- å®Œæ•´çš„ç»ˆç«¯ç¯å¢ƒ
- ä¿¡å·æ”¯æŒï¼ˆCtrl+C = SIGINTï¼‰
- é¢œè‰²å’Œæ ¼å¼ä¿ç•™
- äº¤äº’å¼ç¨‹åºå®Œç¾æ”¯æŒ

ç»ˆæ­¢ç­–ç•¥:
- Ctrl+C å‘é€SIGINT
- ç­‰å¾…500ms
- å¤±è´¥åˆ™SIGKILL
```

#### Stdioæ¨¡å¼ï¼ˆå›é€€ï¼‰
```javascript
åœºæ™¯:
- node-ptyç¼–è¯‘å¤±è´¥
- æƒé™å—é™ç¯å¢ƒ
- æŸäº›Windowsé…ç½®

é™åˆ¶:
- æ— PTYç‰¹æ€§
- é¢œè‰²å¯èƒ½ä¸¢å¤±
- Ctrl+Cå¯èƒ½æ— æ•ˆ

ç»ˆæ­¢ç­–ç•¥:
- ç›´æ¥tree-killï¼ˆSIGKILLï¼‰
- è·¨å¹³å°è¿›ç¨‹æ ‘æ¸…ç†
```

### 4. ä¼ è¾“ç®¡ç†å™¨ï¼ˆæ¡†æ¶ï¼‰

**åŠŸèƒ½ï¼š** SFTPä¸Šä¼ /ä¸‹è½½é˜Ÿåˆ—ç®¡ç†

```javascript
ç‰¹æ€§:
- å¹¶å‘æ§åˆ¶ï¼ˆé»˜è®¤3ä¸ªä»»åŠ¡ï¼‰
- æ–­ç‚¹ç»­ä¼ 
- å†²çªå¤„ç†ï¼ˆè¦†ç›–/è·³è¿‡/é‡å‘½åï¼‰
- æš‚åœ/ç»§ç»­/å–æ¶ˆ
- è¿›åº¦äº‹ä»¶

çŠ¶æ€:
- queued: é˜Ÿåˆ—ä¸­
- running: æ‰§è¡Œä¸­
- paused: å·²æš‚åœ
- completed: å·²å®Œæˆ
- failed: å¤±è´¥
- cancelled: å·²å–æ¶ˆ
```

**IPCæ¥å£ï¼š**
```javascript
tx.enqueue({
  type: 'upload',    // æˆ– 'download'
  local: '/path/to/local',
  remote: '/path/to/remote',
  connection: 'ssh-host-id'
})

tx.control({
  id: 'task-id',
  action: 'pause'    // æˆ– 'resume', 'cancel'
})
```

**æ³¨æ„ï¼š** SSHè¿æ¥ç®¡ç†UIæœªå®ç°ï¼Œéœ€æ‰‹åŠ¨åˆ›å»ºè¿æ¥å¯¹è±¡

---

## âŒ¨ï¸ é”®ç›˜å¿«æ·é”®

### å…¨å±€å¿«æ·é”®
```
Ctrl/Cmd + N          æ–°å»ºæ ‡ç­¾é¡µ
Ctrl/Cmd + W          å…³é—­å½“å‰æ ‡ç­¾é¡µ
Ctrl + Tab            ä¸‹ä¸€ä¸ªæ ‡ç­¾é¡µ
Ctrl + Shift + Tab    ä¸Šä¸€ä¸ªæ ‡ç­¾é¡µ
Ctrl/Cmd + 1-9        è·³è½¬åˆ°æŒ‡å®šåºå·æ ‡ç­¾é¡µ
F5                    åˆ·æ–°æ–‡ä»¶åˆ—è¡¨ï¼ˆæ–‡ä»¶åŒºå¯è§æ—¶ï¼‰
```

### ç»ˆç«¯äº¤äº’
```
Shift + Enter         æ‰§è¡Œå½“å‰å‘½ä»¤/æ¸²æŸ“Markdown
Enter                 è¾“å…¥æ¢è¡Œ
Ctrl + C              ä¸­æ–­å½“å‰å‘½ä»¤
Esc                   æ¸…ç©ºè¾“å…¥/å…³é—­å¼¹çª—
Tab                   æ‰“å¼€å‘½ä»¤å»ºè®®/è·¯å¾„è¡¥å…¨
â†‘ / â†“                 æµè§ˆå»ºè®®åˆ—è¡¨
```

### å•å…ƒæ ¼æ“ä½œï¼ˆæœªèšç„¦è¾“å…¥æ—¶ï¼‰
```
C                     åˆ‡æ¢åˆ°ä»£ç æ¨¡å¼
M                     åˆ‡æ¢åˆ°Markdownæ¨¡å¼
A                     åœ¨ä¸Šæ–¹æ’å…¥å‘½ä»¤å•å…ƒæ ¼
B                     åœ¨ä¸‹æ–¹æ’å…¥å‘½ä»¤å•å…ƒæ ¼
D D                   å¿«é€ŸåŒå‡»åˆ é™¤å•å…ƒæ ¼
```

### å•å…ƒæ ¼ç¼–è¾‘ï¼ˆé€‰ä¸­å•å…ƒæ ¼æ—¶ï¼‰
```
M                     è½¬æ¢ä¸ºMarkdownå•å…ƒæ ¼
C                     è½¬æ¢ä¸ºä»£ç å•å…ƒæ ¼/è¿›å…¥ç¼–è¾‘
Enter                 è¿›å…¥ç¼–è¾‘æ¨¡å¼
```

---

## ğŸ“Š æ•°æ®å­˜å‚¨

### ä½ç½®ç»“æ„
```
${userData}/                      # åº”ç”¨æ•°æ®ç›®å½•
â”œâ”€â”€ tabs/                         # æ ‡ç­¾é¡µæŒä¹…åŒ–
â”‚   â”œâ”€â”€ <uuid>.smt               # æ ‡ç­¾é¡µJSONæ–‡ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ command-outputs/              # å‘½ä»¤è¾“å‡ºæ—¥å¿—
â”‚   â”œâ”€â”€ <ptyId>_<timestamp>.log
â”‚   â””â”€â”€ ...
â”œâ”€â”€ metrics/                      # åº”ç”¨æŒ‡æ ‡
â”‚   â””â”€â”€ app-metrics.csv
â”œâ”€â”€ tmux-bundled/                 # æ‰“åŒ…çš„tmuxäºŒè¿›åˆ¶
â”‚   â”œâ”€â”€ linux-x86_64/
â”‚   â””â”€â”€ linux-arm64/
â”œâ”€â”€ logs/                         # åº”ç”¨æ—¥å¿—
â”œâ”€â”€ settings.json                 # ç”¨æˆ·è®¾ç½®ï¼ˆelectron-storeï¼‰
â””â”€â”€ session.json                  # ä¼šè¯çŠ¶æ€ï¼ˆelectron-storeï¼‰
```

### macOSè·¯å¾„ç¤ºä¾‹
```
~/Library/Application Support/SmartTerminal/
```

### æµè§ˆå™¨å­˜å‚¨ï¼ˆlocalStorageï¼‰
```javascript
sm_locale              # ç•Œé¢è¯­è¨€ (zh-CN / en)
sm_theme               # ä¸»é¢˜ (light / dark / system)
sm_font_command_size   # å‘½ä»¤åŒºå­—ä½“å¤§å°
sm_font_command_color  # å‘½ä»¤åŒºå­—ä½“é¢œè‰²
sm_font_output_size    # è¾“å‡ºåŒºå­—ä½“å¤§å°
sm_font_output_color   # è¾“å‡ºåŒºå­—ä½“é¢œè‰²
commandHistory         # å‘½ä»¤ä½¿ç”¨å†å²å’Œé¢‘ç‡
commandSuggestions     # å‘½ä»¤å»ºè®®æ•°æ®
```

---

## ğŸ” å®‰å…¨æœºåˆ¶

### 1. Electronå®‰å…¨æœ€ä½³å®è·µ

```javascript
BrowserWindowé…ç½®:
{
  webPreferences: {
    contextIsolation: true,      // ä¸Šä¸‹æ–‡éš”ç¦»
    sandbox: true,               // æ²™ç®±æ¨¡å¼
    nodeIntegration: false,      // ç¦ç”¨Node.js
    enableRemoteModule: false,   // ç¦ç”¨remoteæ¨¡å—
    preload: path.join(__dirname, 'preload.js')
  }
}
```

### 2. Content Security Policy
```html
<meta http-equiv="Content-Security-Policy" 
      content="default-src 'self'; 
               style-src 'self' 'unsafe-inline'; 
               script-src 'self'; 
               img-src 'self' data: blob:;">
```

### 3. IPCé€šé“éªŒè¯

```javascript
// é¢„åŠ è½½è„šæœ¬ä¸­çš„ç™½åå•
contextBridge.exposeInMainWorld('sm', {
  term: { /* ä»…æš´éœ²ç‰¹å®šæ–¹æ³• */ },
  fs: { /* ä»…æš´éœ²å®‰å…¨çš„æ–‡ä»¶æ“ä½œ */ },
  // ...
});

// ä¸»è¿›ç¨‹ä¸­çš„è¯·æ±‚éªŒè¯
ipcMain.handle('term.spawn', async (event, payload) => {
  // éªŒè¯payloadç»“æ„
  // é™åˆ¶å‚æ•°èŒƒå›´
  // è¿”å›æ ‡å‡†æ ¼å¼ {ok, data?, error?}
});
```

### 4. æ–‡ä»¶æ“ä½œé™åˆ¶

```javascript
/view å‘½ä»¤é™åˆ¶:
- æ–‡æœ¬æ–‡ä»¶: 2MBä¸Šé™
- å›¾ç‰‡æ–‡ä»¶: 6MBä¸Šé™
- è·¯å¾„éªŒè¯: é˜²æ­¢ç›®å½•éå†
- ä»…é™æœ¬åœ°ä¼šè¯
```

---

## ğŸš€ æ„å»ºå’Œæ‰“åŒ…

### NPMè„šæœ¬
```bash
npm start              # å¯åŠ¨å¼€å‘æ¨¡å¼
npm run pack           # æ‰“åŒ…åº”ç”¨ï¼ˆ--diræ¨¡å¼ï¼‰
npm run dist           # æ„å»ºå®‰è£…åŒ…
npm install --cache ./node-cache  # ä½¿ç”¨æœ¬åœ°ç¼“å­˜å®‰è£…
```

### Electron Builderé…ç½®

```json
{
  "appId": "com.smartterminal.app",
  "productName": "SmartTerminal",
  "files": [
    "app/**/*",
    "design-system/**/*",
    "docs/ui-ux-modern/xterm-theme.json"
  ],
  "mac": {
    "category": "public.app-category.developer-tools",
    "icon": "build/icon.icns"
  },
  "win": {
    "target": ["nsis"],
    "icon": "build/icon.ico"
  },
  "linux": {
    "target": ["AppImage", "deb", "rpm"],
    "category": "Development",
    "icon": "build/icons"
  }
}
```

### å¹³å°æ”¯æŒ
- **macOS**: .dmgå®‰è£…åŒ…
- **Windows**: NSISå®‰è£…ç¨‹åº
- **Linux**: AppImage, .deb, .rpm

---

## ğŸ› å·²çŸ¥é—®é¢˜å’Œé™åˆ¶

### 1. SSHåŠŸèƒ½
```
çŠ¶æ€: åŸºç¡€æ¶æ„å·²å®ç°ï¼ŒUIæœªå®Œæˆ
å½±å“: æ— æ³•é€šè¿‡ç•Œé¢åˆ›å»ºSSHè¿æ¥
è®¡åˆ’: RoadmapåŠŸèƒ½
```

### 2. æ–‡ä»¶ç®¡ç†å™¨
```
çŠ¶æ€: ä»…æœ‰åŸºç¡€fs IPCï¼Œæ— å®Œæ•´UI
å½±å“: æ–‡ä»¶æ“ä½œéœ€æ‰‹åŠ¨å‘½ä»¤
åŠŸèƒ½: fs.list/rename/delete/mkdir/copyå¯ç”¨
```

### 3. è‡ªåŠ¨æ›´æ–°
```
çŠ¶æ€: æœªå®ç°
å½±å“: éœ€æ‰‹åŠ¨ä¸‹è½½æ–°ç‰ˆæœ¬
```

### 4. PTYç¼–è¯‘
```
é—®é¢˜: node-ptyéœ€è¦åŸç”Ÿç¼–è¯‘
å›é€€: è‡ªåŠ¨é™çº§åˆ°stdioæ¨¡å¼
è§£å†³: npm install --cache ./node-cache
```

### 5. æ€§èƒ½
```
å¤§è¾“å‡º: è™šæ‹ŸåŒ–å·²ä¼˜åŒ–ï¼Œæ”¯æŒç™¾ä¸‡è¡Œ
å†…å­˜: é•¿æœŸè¿è¡Œå¯èƒ½ç§¯ç´¯æ—¥å¿—
å»ºè®®: å®šæœŸæ¸…ç†command-outputsç›®å½•
```

---

## ğŸ—ºï¸ Roadmapï¼ˆæœªæ¥è®¡åˆ’ï¼‰

### çŸ­æœŸç›®æ ‡
1. **SSHè¿æ¥ç®¡ç†UI**
   - è¿æ¥é…ç½®ç•Œé¢
   - Known Hostsç®¡ç†
   - å¯†é’¥/å¯†ç è®¤è¯

2. **å®Œæ•´æ–‡ä»¶ç®¡ç†å™¨**
   - ä¾§è¾¹æ æ ‘å½¢è§†å›¾
   - æ‹–æ‹½ä¸Šä¼ ä¸‹è½½
   - CWDåŒæ­¥ï¼ˆOSCåºåˆ—ï¼‰

3. **å‘½ä»¤é¢æ¿å…¨å±€å¿«æ·é”®**
   - Ctrl/Cmd+Pè§¦å‘
   - å¿«é€ŸåŠ¨ä½œæ‰§è¡Œ

### ä¸­æœŸç›®æ ‡
4. **ä¼ è¾“é˜Ÿåˆ—UIå®Œå–„**
   - ä¸SSHè¿æ¥æ‰“é€š
   - å¯è§†åŒ–è¿›åº¦
   - é˜Ÿåˆ—ç®¡ç†

5. **é«˜çº§ä¸»é¢˜å®šåˆ¶**
   - xtermé…è‰²æ–¹æ¡ˆ
   - å­—ä½“é…ç½®
   - å¸ƒå±€åå¥½

6. **æ€§èƒ½ä¼˜åŒ–**
   - æ—¥å¿—è‡ªåŠ¨è½®è½¬
   - å†…å­˜ä½¿ç”¨ä¼˜åŒ–
   - å¯åŠ¨é€Ÿåº¦æå‡

### é•¿æœŸç›®æ ‡
7. **è‡ªåŠ¨æ›´æ–°**
   - electron-updateré›†æˆ
   - å¢é‡æ›´æ–°
   - å›æ»šæœºåˆ¶

8. **ç«¯å£è½¬å‘**
   - æœ¬åœ°->è¿œç¨‹
   - è¿œç¨‹->æœ¬åœ°
   - UIç®¡ç†

9. **SSH Agentè½¬å‘**
   - å¯†é’¥é“¾é›†æˆ
   - è·³æ¿æœºæ”¯æŒ

10. **åä½œåŠŸèƒ½**
    - ä¼šè¯åˆ†äº«
    - å¤šäººååŒ
    - äº‘ç«¯åŒæ­¥

---

## ğŸ“š å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚
```
Node.js: 18+
npm: 8+
æ“ä½œç³»ç»Ÿ: macOS / Windows / Linux
```

### å®‰è£…ä¾èµ–
```bash
# ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼ˆæ¨èï¼‰
npm install --cache ./node-cache

# å¯é€‰ï¼šå®‰è£…SSHæ”¯æŒ
npm install ssh2

# é‡å»ºåŸç”Ÿæ¨¡å—
npm run postinstall
```

### å¼€å‘æ¨¡å¼
```bash
npm start
# DevToolsä¼šåœ¨NODE_ENV=developmentæ—¶è‡ªåŠ¨æ‰“å¼€
```

### è°ƒè¯•æŠ€å·§

#### ä¸»è¿›ç¨‹è°ƒè¯•
```bash
# æ–¹æ³•1: Chrome DevTools
electron --inspect=5858 .

# æ–¹æ³•2: VSCode launch.json
{
  "type": "node",
  "request": "launch",
  "name": "Electron Main",
  "runtimeExecutable": "${workspaceFolder}/node_modules/.bin/electron",
  "args": ["."],
  "outputCapture": "std"
}
```

#### æ¸²æŸ“è¿›ç¨‹è°ƒè¯•
```javascript
// åœ¨rendererä¸­å¯ç”¨è¯¦ç»†æ—¥å¿—
window.setSmDebug(true);

// æŸ¥çœ‹å‘½ä»¤å®Œæˆå“¨å…µå’Œè¾“å‡ºæ¸…ç†
```

#### IPCè°ƒè¯•
```javascript
// ä¸»è¿›ç¨‹
console.log('[IPC]', channel, payload);

// æ¸²æŸ“è¿›ç¨‹
const result = await window.sm.term.spawn({...});
console.log('spawn result:', result);
```

### ä»£ç é£æ ¼

```javascript
// æ–‡ä»¶å¤´æ³¨é‡Š
// Module Name - Brief description

// å‡½æ•°æ³¨é‡Šï¼ˆJSDocé£æ ¼ï¼‰
/**
 * Function description
 * @param {string} param1 - Description
 * @returns {Promise<object>} Response object
 */

// å‘½åçº¦å®š
const CONSTANTS = 'UPPER_SNAKE_CASE';
const variables = 'camelCase';
function functionName() { }
class ClassName { }

// é”™è¯¯å¤„ç†
try {
  // ...
} catch (err) {
  console.error('[Module] Error:', err?.message || err);
  return { ok: false, error: String(err?.message || err) };
}
```

---

## ğŸ§ª æµ‹è¯•

### å½“å‰çŠ¶æ€
```
å•å…ƒæµ‹è¯•: æœªå®ç°
é›†æˆæµ‹è¯•: æœªå®ç°
E2Eæµ‹è¯•: æœªå®ç°
```

### æ¨èæµ‹è¯•æ¡†æ¶
```javascript
å•å…ƒæµ‹è¯•: Jest
E2Eæµ‹è¯•: Spectron / Playwright for Electron
```

### æ‰‹åŠ¨æµ‹è¯•æ¸…å•

#### ç»ˆç«¯åŠŸèƒ½
- [ ] PTYæ¨¡å¼å‘½ä»¤æ‰§è¡Œ
- [ ] Stdioæ¨¡å¼é™çº§
- [ ] äº¤äº’å¼å‘½ä»¤ï¼ˆssh, pythonç­‰ï¼‰
- [ ] Ctrl+Cä¸­æ–­
- [ ] å¤šè¡Œå‘½ä»¤
- [ ] å‘½ä»¤å†å²å’Œé‡è·‘

#### UIåŠŸèƒ½
- [ ] æ ‡ç­¾é¡µåˆ›å»º/åˆ‡æ¢/å…³é—­
- [ ] ä¸»é¡µæ”¶è—å¤¹/å…¨éƒ¨/å›æ”¶ç«™
- [ ] å‘½ä»¤å»ºè®®å’Œè·¯å¾„è¡¥å…¨
- [ ] /viewé¢„è§ˆMarkdownå’Œå›¾ç‰‡
- [ ] è¯­è¨€åˆ‡æ¢ï¼ˆä¸­/è‹±ï¼‰
- [ ] ä¸»é¢˜åˆ‡æ¢ï¼ˆæµ…è‰²/æ·±è‰²/ç³»ç»Ÿï¼‰

#### æŒä¹…åŒ–
- [ ] æ ‡ç­¾é¡µè‡ªåŠ¨ä¿å­˜
- [ ] é‡å¯åçŠ¶æ€æ¢å¤
- [ ] è®¾ç½®æŒä¹…åŒ–
- [ ] å‘½ä»¤å†å²ä¿å­˜

#### æ€§èƒ½
- [ ] å¤§é‡è¾“å‡ºï¼ˆ10000+è¡Œï¼‰
- [ ] è™šæ‹ŸåŒ–æ»šåŠ¨
- [ ] å¤šæ ‡ç­¾é¡µåŒæ—¶è¿è¡Œ
- [ ] é•¿æ—¶é—´è¿è¡Œç¨³å®šæ€§

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### æäº¤Issue
```markdown
æ ‡é¢˜: [æ¨¡å—] ç®€çŸ­æè¿°
å†…å®¹:
- é—®é¢˜æè¿°
- å¤ç°æ­¥éª¤
- é¢„æœŸè¡Œä¸º
- å®é™…è¡Œä¸º
- ç¯å¢ƒä¿¡æ¯ï¼ˆOS, Nodeç‰ˆæœ¬, Electronç‰ˆæœ¬ï¼‰
- æˆªå›¾æˆ–æ—¥å¿—
```

### Pull Request
```markdown
1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: git checkout -b feature/amazing-feature
3. æäº¤æ›´æ”¹: git commit -m 'Add amazing feature'
4. æ¨é€åˆ†æ”¯: git push origin feature/amazing-feature
5. åˆ›å»ºPull Request

PRæ¨¡æ¿:
- åŠŸèƒ½æè¿°
- ç›¸å…³Issue
- æµ‹è¯•è¯´æ˜
- æˆªå›¾ï¼ˆå¦‚é€‚ç”¨ï¼‰
```

### ä»£ç å®¡æŸ¥è¦ç‚¹
- å®‰å…¨æ€§ï¼šIPCé€šé“éªŒè¯ã€è¾“å…¥æ¸…ç†
- æ€§èƒ½ï¼šå¤§æ•°æ®å¤„ç†ã€å†…å­˜æ³„æ¼
- å…¼å®¹æ€§ï¼šè·¨å¹³å°æµ‹è¯•
- å¯ç»´æŠ¤æ€§ï¼šä»£ç æ¸…æ™°ã€æ³¨é‡Šå……åˆ†

---

## ğŸ“– å‚è€ƒèµ„æ–™

### å®˜æ–¹æ–‡æ¡£
- [Electron Documentation](https://www.electronjs.org/docs)
- [xterm.js API](https://xtermjs.org/docs/)
- [node-pty](https://github.com/microsoft/node-pty)

### è®¾è®¡å‚è€ƒ
- é¡¹ç›®å†…: `docs/ui-ux-modern/`
- xtermä¸»é¢˜: `docs/ui-ux-modern/xterm-theme.json`
- è®¾è®¡ä»¤ç‰Œ: `design-system/modern/`

### ç›¸å…³é¡¹ç›®
- VSCode Integrated Terminal
- Hyper Terminal
- Tabby (formerly Terminus)
- Warp Terminal

---

## ğŸ“„ è®¸å¯è¯

MIT Â© Smarterminal contributors

---

## ğŸ“® è”ç³»æ–¹å¼

- Issue Tracker: GitHub Issues
- Discussions: GitHub Discussions
- Email: ï¼ˆå¾…è¡¥å……ï¼‰

---

## ğŸ‰ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- Electronå›¢é˜Ÿ
- xterm.jsç¤¾åŒº
- node-ptyç»´æŠ¤è€…
- æ‰€æœ‰è´¡çŒ®è€…

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** 1.0.0  
**æœ€åæ›´æ–°ï¼š** 2024å¹´  
**æ–‡æ¡£ä½œè€…ï¼š** AIä»£ç åˆ†æåŠ©æ‰‹
